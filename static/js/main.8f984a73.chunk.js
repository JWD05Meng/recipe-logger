(this.webpackJsonprecipebook=this.webpackJsonprecipebook||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(11),r=n.n(a),o=(n(16),n(3)),s=n(2),u=n(10),l=(n(17),n(4)),d=n(7),j=(n(9),n(0));var b=function(e){var t=Object(c.useState)(e.ingredient),n=Object(s.a)(t,2),i=n[0],a=n[1],r=function(e){e.stopPropagation(),a((function(t){return Object(l.a)(Object(l.a)({},i),{},Object(d.a)({},e.target.name,e.target.value))})),console.log(i)};return e.isEditing?Object(j.jsxs)("div",{className:"ingredient-edit",children:[Object(j.jsx)("div",{className:"delete-icon",onClick:function(){return e.removeIngredient(i.id)},children:Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-x-circle",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(j.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]})}),Object(j.jsx)("input",{type:"text",name:"name",onChange:r,value:i.name}),Object(j.jsx)("input",{type:"text",name:"quantity",onChange:r,value:i.quantity}),Object(j.jsx)("input",{type:"text",name:"unit",onChange:r,value:i.unit})]}):Object(j.jsxs)("div",{className:"ingredient",children:[Object(j.jsx)("span",{className:"name",children:i.name}),Object(j.jsxs)("span",{className:"quantity",children:[i.quantity," ",i.unit]})]})},p=function(){var e=0;return function(){return e++}}();var f=function(e){var t=Object(c.useState)(e.creating||!1),n=Object(s.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(e.creating||!1),u=Object(s.a)(r,2),d=u[0],f=u[1],O=Object(c.useState)(e.ingredients.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{id:p()})}))),g=Object(s.a)(O,2),m=g[0],v=g[1],x=function(e){e.stopPropagation(),!d&&a((function(e){return!e}))},N=function(e){return f((function(e){return!e}))},w=function(){var t=document.querySelectorAll(".ingredient-edit"),n=Object(o.a)(t).map((function(e){return{name:e.querySelector('input[name="name"]').value,quantity:e.querySelector('input[name="quantity"]').value,unit:e.querySelector('input[name="unit"]').value,id:p()}}));console.table(n),N(),v(n);var c=new h(e.title,n,e.id);e.creating?e.createRecipe(c):e.updateRecipe(e.id,c)},y=function(e){v((function(t){return t.filter((function(t){return t.id!==e}))}))},S=function(){var e={id:p(),name:"",quantity:"",unit:""};v((function(t){return[].concat(Object(o.a)(t),[e])}))};return Object(j.jsx)("div",{className:"recipe-card-backdrop ".concat(i?"selected":""),children:Object(j.jsxs)("div",{className:"recipe-card ".concat(i?"selected":""),onDoubleClick:x,children:[Object(j.jsx)("div",{className:"title",children:e.title}),m.map((function(e){return Object(j.jsx)(b,{ingredient:e,recipeSelected:i,isEditing:d,removeIngredient:y},e.id)})),function(){if(i)return Object(j.jsxs)("div",{className:"buttons-div",children:[!d&&Object(j.jsx)("button",{className:"button delete-button",onClick:function(){return e.deleteRecipe(e.id)},children:Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[Object(j.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(j.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})}),!d&&Object(j.jsx)("button",{className:"button",onClick:N,children:"Edit"}),!d&&Object(j.jsx)("button",{className:"button",onClick:x,children:"Close"}),d&&Object(j.jsx)("button",{className:"button",onClick:S,children:"Add Ingredient"}),d&&Object(j.jsx)("button",{className:"button",onClick:w,children:"Done"})]})}()]})})};n(19);var O=function(e){return Object(j.jsx)("div",{className:"card-display",children:e.recipes.map((function(t){return Object(j.jsx)(f,{title:t.title,ingredients:t.ingredients,id:t.id,updateRecipe:e.updateRecipe,deleteRecipe:e.deleteRecipe},t.id)}))})};var g=function(e){var t=Object(c.useState)(null),n=Object(s.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(""),o=Object(s.a)(r,2),u=o[0],l=o[1];return Object(c.useEffect)((function(){u||document.querySelector("input").focus()}),[]),i?Object(j.jsx)(f,{title:i.title,ingredients:i.ingredients,id:i.id,createRecipe:e.createRecipe,creating:!0}):Object(j.jsx)("div",{className:"recipe-card-backdrop selected",children:Object(j.jsx)("div",{className:"recipe-card selected",children:Object(j.jsx)("input",{type:"text",name:"name",placeholder:"Recipe Name",onChange:function(e){l(e.target.value)},onKeyDown:function(t){if(t.stopPropagation(),"Enter"===t.key){var n=new h(u,[]);console.log(n),a(n)}else"Escape"===t.key&&e.cancelCreate()}})})})},h=function e(t,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p();Object(u.a)(this,e),this.title=t,this.ingredients=n,this.id=c};var m=function(){var e=JSON.parse(window.localStorage.getItem("stored recipes")),t=Object(c.useState)(e||[]),n=Object(s.a)(t,2),i=n[0],a=n[1];Object(c.useEffect)((function(){console.log("Writing recipes to localStorage."),window.localStorage.setItem("stored recipes",JSON.stringify(i))}),[i]);var r=Object(c.useState)(!1),u=Object(s.a)(r,2),l=u[0],d=u[1];return Object(c.useEffect)((function(){return d(!1)}),[i]),Object(j.jsxs)("div",{className:"App",onDoubleClick:function(){return d(!0)},children:[Object(j.jsx)(O,{recipes:i,updateRecipe:function(e,t){console.log("attempting to update recipe of id ".concat(e," with")),console.table(t.ingredients),a((function(n){var c=n.findIndex((function(t){return t.id===e}));return console.log("found old recipe at index ".concat(c,"...")),[].concat(Object(o.a)(n.slice(0,c)),[t],Object(o.a)(n.slice(c+1,n.length)))}))},deleteRecipe:function(e){console.table(i),console.log("attempting to delete recipe: ".concat(e)),a((function(t){return i.filter((function(t){return t.id!==e}))}))}}),l&&Object(j.jsx)(g,{createRecipe:function(e){console.log("adding recipe:"),console.table(e),a((function(t){return[].concat(Object(o.a)(t),[e])}))},cancelCreate:function(){d(!1)}})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root-mask")),v()},9:function(e,t,n){}},[[20,1,2]]]);
//# sourceMappingURL=main.8f984a73.chunk.js.map